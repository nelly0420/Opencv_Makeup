<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Makeup Main Page</title>
    <!-- Bootstrap CSS -->
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Podkova&display=swap">
    <!-- Font Awesome CSS -->
    <link href="{{ url_for('static', filename='css/all.css') }}" rel="stylesheet">
    <!-- jQuery -->
    <script src="{{ url_for('static', filename='js/jquery-3.6.0.min.js') }}"></script>
    <!-- Bootstrap Bundle with Popper -->
    <script src="{{ url_for('static', filename='js/bootstrap.bundle.js') }}"></script>

    <style>
        body, html {
            height: 100%;
            margin: 0;
            font-family: 'Podkova', sans-serif;
           
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .carousel-item img {
            width: 100%;
            height: 100vh;
            object-fit: cover;
        }
        
        .title {
            font-size: 90px;
            color: #4F2626;
            font-family: 'kdg_Medium', sans-serif; /* 커스텀 폰트와 대체 폰트를 설정 */
        }
        @font-face {
            font-family: 'kdg_Medium';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts-20-12@1.0/kdg_Medium.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }
        .subtitle {
            font-size: 30px;
            color: #4F2626;
        }
        .container {
            max-width: 100%;
        }
        .navbar-nav .nav-link {
            color: white;
            position: relative;
        }
        .btn-go-main {
            background-color: #4F2626;
            border: none;
            color: white;
            font-size: 16px;
            margin-right:10px;
            margin-left:10px;
        }
        .badge {
            position: absolute;
            top: -2px;
            right: -5px;
            background-color: rgb(39, 60, 171);
            color: white;
            padding: 4px 6px;
            border-radius: 50%;
            font-size: 12px;
            font-weight: bold;
            z-index: 1;
        }
        .nav-link .fa-heart {
            position: relative;
            z-index: 2;
        }
        .cherry-blossom-container {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            pointer-events: none;
        }
        .petal {
            position: absolute;
            background-color: FFCCC2;
            border-radius: 100% 0 100% 0;
            animation: animate-petal 10s linear;
        }
        .petal::after {
            content: "";
            position: absolute;
            top: -14%;
            left: -10%;
            display: block;
            width: 100%;
            height: 100%;
            background-color: #F45C5C;
            border-radius: 100% 0 100% 0;
            transform: rotate(15deg);
        }
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-color: #4F2626; /* Replace with your desired color */
        }
        footer {
            
            padding: 20px;
            text-align: center; /* 중앙 정렬 */
            margin: 0 auto; /* 중앙 정렬 */
            width: 100%;
            box-sizing: border-box;
        }
        
        @keyframes animate-petal {
            0% {
                top: 0;
                opacity: 0;
                transform: rotate(0deg);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                top: 100vh;
                transform: rotate(3000deg);
            }
        }
    </style>
</head>
<body>
    
   <!-- Background Image Carousel -->
   <div id="carouselExampleIndicators" class="carousel slide">
        
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4" aria-label="Slide 5"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <div class="cherry-blossom-container"></div>
            <img src="{{ url_for('static', filename='images/main/main1.jpg') }}" alt="Slide 1">
            <div class="carousel-caption d-none d-md-block">
                <h1 class="title">화연(花衍)</h1>
                <h5 class="subtitle">"화용월태"(花容月態)</h5>
                <p style="color: black; font-size:20px">Matte와 Glossy 립스틱을 가상으로 미리 적용해보며, <br/>꽃 같은 입술과 달 같은 자태를 완성해보세요.</p>
                <footer style="background-color: #FCC6C6;">
                <button class="btn btn-primary btn-go-main" data-url="/products_skin#pills-lip">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye me-2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg> Try Now
                </button>
                <button class="btn btn-primary btn-go-main" data-url="/about">
                 프로젝트 개요
                </button>
            </footer>
            </div>
        </div>
        <div class="carousel-item">
            <div class="cherry-blossom-container"></div>
            <img src="{{ url_for('static', filename='images/main/main2.jpg') }}" alt="Slide 2">
            <div class="carousel-caption d-none d-md-block">
                <h1 class="title">화연(花衍)</h1>
                <h5 class="subtitle">“칠색조화”(七色造化)</h5>
                <p style="color: black; font-size:20px">다양한 색감의 쉐도우를 적용하여 나만의  <br/>독특하고 다채로운 스타일을 발견해보세요.</p>
                <footer style="background-color: #D4C3B3;">
                <button class="btn btn-primary btn-go-main" data-url="/products_skin#pills-eye">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye me-2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg> Try Now
                </button>
                <button class="btn btn-primary btn-go-main" data-url="/about">
                    프로젝트 개요
                </button>
            </footer>
            </div>
        </div>
        <div class="carousel-item">
            <div class="cherry-blossom-container"></div>
            <img src="{{ url_for('static', filename='images/main/main3.jpg') }}" alt="Slide 3">
            <div class="carousel-caption d-none d-md-block">
                <h1 class="title">화연(花衍)</h1>
                <h5 class="subtitle">“화려강산”(華麗江山)</h5>
                <p style="color: black; font-size:20px">다양한 블러셔를 체험하며, 화려하고 매혹적인  <br/> 나만의 스타일을 발견해보세요.</p>
                <footer style="background-color: #ABC39E;">
                <button class="btn btn-primary btn-go-main" data-url="/products_skin#pills-skin">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye me-2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg> Try Now
                </button>
                <button class="btn btn-primary btn-go-main" data-url="/about">
                    프로젝트 개요
                </button>
            </footer>
            </div>
        </div>
        <div class="carousel-item">
            <div class="cherry-blossom-container"></div>
            <img src="{{ url_for('static', filename='images/main/main4.jpg') }}" alt="Slide 4">
            <div class="carousel-caption d-none d-md-block">
                <h1 class="title">화연(花衍)</h1>
                <h5 class="subtitle">“유려미문”(流麗美文)</h5>
                <p style="color: black; font-size:20px">가상의 환경에서 흐르는 듯 자연스럽고 <br/>아름다운 나만의 스타일을 발견해보세요.</p>
                <footer style="background-color: #9C9C9C;">
                <button class="btn btn-primary btn-go-main" data-url="/products_skin#pills-eye">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye me-2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg> Try Now
                </button>
                <button class="btn btn-primary btn-go-main" data-url="/about">
                    프로젝트 개요
                </button>
            </footer>
            </div>
        </div>
        <div class="carousel-item">
            <div class="cherry-blossom-container"></div>
            <img src="{{ url_for('static', filename='images/main/main5.jpg') }}" alt="Slide 5">
            <div class="carousel-caption d-none d-md-block">
                <h1 class="title">화연(花衍)</h1>
                <h5 class="subtitle">"다채만상" (多彩萬象)</h5>
                <p style="color: black; font-size:20px">다양한 화장품을 가상의 환경에서 체험하며  <br/>나만의 다채로운 스타일을 발견해보세요.</p>
                <footer style="background-color: #9395B8;">
                <button class="btn btn-primary btn-go-main" data-url="/products_skin#pills-eye">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye me-2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg> Try Now
                </button>
                <button class="btn btn-primary btn-go-main" data-url="/about">
                    프로젝트 개요
                </button>
            </footer>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

    <script>
        $(document).ready(function() {
            // Initialize cart count
            updateCartCount();

            $(".btn-go-main").click(function(){
                var url = $(this).data("url");
                window.location.href = url;
            });

            // Function to update cart count
            function updateCartCount() {
                const cartCount = localStorage.getItem('cartCount') || '0';
                $('#cookie-count').text(cartCount);
            }

            // Function to get cart items from localStorage
            function getCartItems() {
                return JSON.parse(localStorage.getItem('cart')) || [];
            }

            // Function to show cart items in the modal
            function showCartItems() {
                const cartItemsContainer = $('#cart-items');
                cartItemsContainer.empty();
                const cartItems = getCartItems();

                if (cartItems.length === 0) {
                    cartItemsContainer.append('<p>Your cart is empty.</p>');
                } else {
                    cartItems.forEach(item => {
                        cartItemsContainer.append(`
                            <div class="cart-item mb-2">
                                <h5>${item.PrdName}</h5>
                                <p>Color: ${item.color}</p>
                                <p>Price: ${item.price}</p>
                                <p>Quantity: ${item.quantity}</p>
                                <button class="btn btn-danger btn-sm" onclick="removeFromCart('${item.prdCode}')">Remove</button>
                            </div>
                        `);
                    });
                }
            }

            // Function to remove an item from the cart
            window.removeFromCart = function(prdCode) {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                cart = cart.filter(item => item.prdCode !== prdCode);
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                showCartItems();
            }

            // Clear cart button click event
            $('#clear-cart').on('click', function() {
                localStorage.removeItem('cart');
                localStorage.setItem('cartCount', '0');
                updateCartCount();
                showCartItems();
            });

            const $section = $('.cherry-blossom-container');

            // Function to create a petal
            const createPetal = () => {
                const $petalEl = $('<span class="petal"></span>');
                const minSize = 10;
                const maxSize = 15;
                const size = Math.random() * (maxSize - minSize) + minSize;
                $petalEl.css({
                    width: `${size}px`,
                    height: `${size}px`,
                    left: `${Math.random() * $(window).width()}px`,
                    top: `-${size}px` // Start position just above the viewport
                });
                $section.append($petalEl);
        
                // Remove petal after animation
                setTimeout(() => {
                    $petalEl.remove();
                }, 10000);
            }

            // Generate petals at intervals
            setInterval(createPetal, 300);
        });
    </script>
</body>
</html>
